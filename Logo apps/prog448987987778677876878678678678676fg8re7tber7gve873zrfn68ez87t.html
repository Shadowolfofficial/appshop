<!DOCTYPE html>
<html>
<head>
<style>
:root {
 --primary-color: #007bff;
 --secondary-color: #0056b3;
 --background-color: #f5f7fa;
 --text-color: #333;
 --font-family: 'Roboto', sans-serif;
}

body {
 font-family: var(--font-family);
 background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
 background-size: cover;
 color: var(--text-color);
 margin: 0;
 padding: 0;
 animation: gradient 3s ease infinite;
}

@keyframes gradient {
 0% {
   background-position: 0% 50%;
 }
 50% {
   background-position: 100% 50%;
 }
 100% {
   background-position: 0% 50%;
 }
}

#customUrlForm {
 max-width: 600px;
 width: 100%;
 padding: 20px;
 background-color: #fff;
 box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
 border-radius: 8px;
 margin: 50px auto;
 animation: fadeIn 0.5s ease-out;
}

#customUrlForm label {
 display: block;
 margin-bottom: 5px;
}

#customUrlForm input[type="text"] {
 width: calc(100% - 40px); /* Ajuste la largeur pour ne pas toucher le bord */
 padding: 10px;
 margin-bottom: 20px;
 border: 1px solid #ddd;
 border-radius: 4px;
}

#customUrlForm input[type="submit"] {
 width: 100%;
 padding: 10px;
 background-color: var(--primary-color);
 color: white;
 border: none;
 border-radius: 12px;
 cursor: pointer;
 transition: background-color 0.3s ease;
}

#customUrlForm input[type="submit"]:hover {
 background-color: var(--secondary-color);
}

.container {
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 min-height: 100vh;
}

h2 {
 font-size: 2.5em;
 margin-bottom: 20px;
}

p {
 font-size: 1.2em;
 margin-bottom: 30px;
}

@media (max-width: 600px) {
 #customUrlForm {
    padding: 15px;
 }
}

@keyframes fadeIn {
 from { opacity: 0; }
 to { opacity: 1; }
}

.close-button {
 position: fixed;
 top: 20px;
 right: 20px;
 padding: 10px;
 border: none;
 background-color: #f00;
 color: white;
 cursor: pointer;
 z-index: 1000;
 border-radius: 8px;
 font-weight: bold;
}

.close-button:hover {
 background-color: #c00;
}
</style>
</head>
<body>

<div class="container">
 <h2>iCorrect</h2>
 <p>This page was created by ThunderOs for iparcours exercices file.</p>

 <form id="customUrlForm">
 <div>
   <label for="part1a">Niveau de classe (uniquement le chiffre)</label>
   <input type="text" id="part1a" name="part1a">
 </div>
 <div>
   <label for="part1">Année du fichier :</label>
   <input type="text" id="part1" name="part1">
 </div>
 <div>
   <label for="part2"> Lettre et chiffre en bas de la page du fichier (par exemple G3) : </label>
   <input type="text" id="part2" name="part2">
 </div>
 <div>
   <label for="part3">Page (Ajoutez un 0 pour les pages en dessous 100 exemple: 028 pour la page 28.):</label>
 <input type="text" id="part3" name="part3">
 </div>
 <input type="submit" value="Confirmer">
 </form>

 <p>Ce formulaire ne doit pas être rempli en utilisant des lettres majuscules et en ne laissant pas d'espace. Il est important de remplir toutes les informations en utilisant des lettres minuscules sans espace.</p>
</div>

<script>
var iframe = null;

document.getElementById('customUrlForm').addEventListener('submit', function(event){
 event.preventDefault();
 var part1a = document.getElementById('part1a').value;
 var part1 = document.getElementById('part1').value;
 var part2 = document.getElementById('part2').value;
 var part3 = document.getElementById('part3').value;
 var baseUrl = "https://www.iparcours.fr/ouvrages/medias/Complements/correctionPDF/Cahier";
 var fullUrl = baseUrl + part1a + part1 + "/corpdfcahier" + part1a + part1 + part2 + "p" + part3 + ".pdf";

 if (iframe) {
   iframe.src = "https://docs.google.com/viewer?url=" + encodeURIComponent(fullUrl) + "&embedded=true";
 } else {
   iframe = document.createElement('iframe');
   iframe.src = "https://docs.google.com/viewer?url=" + encodeURIComponent(fullUrl) + "&embedded=true";
   iframe.style.width = "100%";
   iframe.style.height = "100%";
   iframe.style.border = "none";
   iframe.style.position = "fixed";
   iframe.style.top = "0";
   iframe.style.left = "0";
   iframe.style.zIndex = "999";
   document.body.appendChild(iframe);

   var closeButton = document.createElement('button');
   closeButton.textContent = "Fermer";
   closeButton.className = "close-button";
   closeButton.addEventListener('click', function() {
     document.body.removeChild(iframe);
     document.body.removeChild(closeButton);
     iframe = null;
   });

   document.body.appendChild(closeButton);
 }
});
</script>
</body>
</html>
